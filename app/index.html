<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
    <link rel="stylesheet" href="css/style.css">
    <script src="https://js.zohostatic.com/creator/widgets/version/1.0/widgetsdk-min.js"></script>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"
        integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>

<body>
    <span id="materilCount"></span>
    <div class="Booking_container">
        <div class="BookingInner" id="BookingSection">
            <!-- Popup Form Start-->
            <div id="bookingFormModal" class="modal">
                <div class="modal-content" id="zohoForm">
                    <span class="material-symbols-outlined close" data-target="bookingFormModal">close</span>
                </div>
            </div>
            <!-- Popup Form End -->
            <div class="BookingHeader" style="height: 7vh;">
                <h2>Bookings</h2>
                <div class="Booing_HeaderMenu">
                    <div class="Booking_Search">
                        <span class="material-symbols-outlined">search</span>
                        <input type="text" placeholder="Search by Booking ID" id="searchInput" />
                    </div>
                    <button id="dateFilterBtn"><span class="material-symbols-outlined">calendar_month</span><span>Date
                            filter</span></button>
                    <input type="date" id="startDate" style="display:none;">
                    <input type="date" id="endDate" style="display:none;">
                    <button onclick="resetFilters()"><span
                            class="material-symbols-outlined">cached</span><span>Refresh</span></button>
                    <button id="openFormBtn"><span class="material-symbols-outlined">add_circle</span><span>Add
                            Bookings</span></button>
                </div>
            </div>
            <div class="Booking_Outer_view">
                <div class="DashboardLeftSidebar" style="width: 20%;">
                    <div class="LeftInnerHeader">
                        <li><span style="font-size: 15px;" class="material-symbols-outlined">hail</span><span
                                style="font-size: 12px;">Customer
                                Bookings</span></li>
                        <li><span style="font-size: 12px;">Status</span><span style="font-size: 15px;"
                                class="material-symbols-outlined">keyboard_arrow_down</span></li>
                    </div>
                    <div class="booking-card-outer" id="CustBookingList">
                        <div class="booking-card" style="border-radius: 4px;">
                            <h4>Atlantis Hotel</h4>
                            <ul class="bookingList-info">
                                <li>
                                    <span class="material-symbols-outlined">account_circle</span>Karthik
                                </li>
                                <li>
                                    <span style="font-size: 10px;">5</span><span
                                        style="font-size: 10px;">Bookings</span>
                                </li>
                                <li>
                                    <span style="font-size: 10px;">5</span><span style="font-size: 10px;">Service</span>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="Booking_Overview" style="width: 80%;padding-right: 0px;">

                    <div class="filters" style="height: auto; padding-top: 0px;">
                        <button class="active">All</button>
                        <button>Pending</button>
                        <button>In Progress</button>
                        <button>Completed</button>
                    </div>
                    <div class="booking_table_container" id="bookingTableContainer">

                        <table style="width:100%; border-collapse: collapse; margin-bottom:15px;">
                            <thead>
                                <tr>
                                    <th>Select</th>
                                    <th>Booking ID</th>
                                    <th>BK Type</th>
                                    <th>Property Name</th>
                                    <th>Property No</th>
                                    <th>Frequency</th>
                                    <th>Days</th>
                                    <th>Start Date</th>
                                    <th>End Date</th>
                                    <th>Preferred Time</th>
                                    <th>Status</th>
                                    <th colspan="2" style="text-align:center;">Action</th>
                                </tr>
                            </thead>
                            <tbody id="bookingTableBody">
                                <tr>
                                    <td>Select</td>
                                    <td>Booking ID</td>
                                    <td>BK Type</td>
                                    <td>Property Name</td>
                                    <td>Property No</td>
                                    <td>Frequency</td>
                                    <td>Days</td>
                                    <td>Start Date</td>
                                    <td>End Date</td>
                                    <td>Preferred Time</td>
                                    <td>Status</td>
                                    <td style="text-align:center;">
                                        <div class="Row-btn-item">Create</div>
                                    </td>
                                    <td style="text-align:center;">
                                        <div class="Row-btn-item" onclick="runTable(event)">View</div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

        </div>
        <!-- this is Job Section -->
        <div class="jobinner" id="JobSection">
            <!-- Popup Form Start-->
            <div id="bookingFormModal1" class="modal">
                <div class="modal-content" id="zohoForm2">
                    <span class="material-symbols-outlined close" data-target="bookingFormModal1">close</span>
                </div>
            </div>
            <!-- Popup End Start-->
            <div class="page-header flex justify-end pr-5 ">
                <button onclick="backToBooking()">Back to Booking</button>
            </div>

            <div class="date-tabs " id="dateTabContainer">

            </div>
            <div class="jobDashboard">
                <div class="DashboardLeftSidebar">
                    <div class="LeftInnerHeader">
                        <li><span class="material-symbols-outlined">hail</span><span style="font-size: 16px;">Customer
                                Bookings</span></li>
                        <li><span style="font-size: 16px;">Status</span><span
                                class="material-symbols-outlined">keyboard_arrow_down</span></li>
                    </div>
                    <div class="booking-card-outer" id="bookingCardContainer">
                        <div class="booking-card active" data-id="${bk.ID}">
                            <div class="booking-card-header">
                                <h4 title="${bk.Booking_ID} | ${bk.Customer_Name?.display_value}">
                                    Booking ID | Customer Name
                                </h4>
                                <span class="">
                                    Status
                                </span>
                            </div>

                            <ul class="bookingList-info">
                                <li title="${bk.Supervisor}">
                                    <span class="material-symbols-outlined">person</span> Supervisor
                                </li>
                            </ul>
                            <div class="job-requests">
                                <div><strong>Job Requests</strong></div>
                                <div class="job-requestInner"></div>
                            </div>
                        </div>

                    </div>
                </div>

                <div class="DashboardRightSidebar">
                    <div class="DashboardRightSidebar-header-outer">
                        <div class="DashboardRightSidebar-header">
                            <h2><span id="ShowJobID">Bookingâ€“2001</span> | <span id="ShowCustName">Atlantis Hotel</span>
                            </h2>
                            <div class="Issue-buttons">
                                <button class="action-btn" onclick="updateValue()">Save</button>
                                <button class="action-btn">Cancel</button>
                            </div>
                        </div>

                        <div class="badges">
                            <span class="priority priority-low">Low</span>
                            <span class="status status-inprogress">Assigned</span>
                            <span class="priority priority-routine">B2B</span>
                        </div>

                    </div>
                    <div class="customer-Section">
                        <div class="customer-info-Section">
                            <h3>Customer Information</h3>
                            <div class="info-grid">
                                <div class="info-field">
                                    <label for="">Job Request ID</label>
                                    <input type="text" id="Job_Request_ID" value="" disabled />
                                </div>
                                <div class="info-field">
                                    <label for="">Customer</label>
                                    <input type="text" id="Customer" value="" disabled />
                                </div>
                                <div class="info-field">
                                    <label for="">Service</label>
                                    <input type="text" id="Service" placeholder="" disabled />
                                </div>
                                <div class="info-field">
                                    <label for="">Property Name</label>
                                    <input type="text" id="Property_Name" value="" disabled />
                                </div>
                                <div class="info-field">
                                    <label for="">Property Number</label>
                                    <input type="text" id="Property_Number" value="" disabled />
                                </div>
                                <div class="info-field">
                                    <label for="">Property Type</label>
                                    <input type="text" id="Property_Type" value="" disabled />
                                </div>
                                <div class="info-field">
                                    <label for="">Property Unit</label>
                                    <input type="text" id="Property_Unit" value="" disabled />
                                </div>
                                <div class="info-field">
                                    <label for="">Address</label>
                                    <input type="text" id="Address" value="" disabled />
                                </div>
                                <div class="info-field">
                                    <label for="">Zone</label>
                                    <input type="text" id="Zone" value="" disabled />
                                </div>
                                <div class="info-field">
                                    <label for="">Access Code</label>
                                    <input type="text" id="Access_Code" value="" disabled />
                                </div>
                            </div>
                        </div>
                        <hr>
                        <div class="customer-info-Section">
                            <div class="flex flex-wrap">
                                <div class="info-field w-1/3">
                                    <label for="">Scheduled Date</label>
                                    <input type="date" id="Scheduled_Date" value="" />
                                </div>
                                <div class="info-field w-1/3">
                                    <label for="">Start Time</label>
                                    <input type="time" id="Start_Time" value="" />
                                </div>
                                <div class="info-field w-1/3">
                                    <label for="">End Time</label>
                                    <input type="time" id="End_Time" placeholder="" />
                                </div>
                                <div class="info-field ">
                                    <div class="materials " style="height: auto;">
                                        <div class="relative overflow-x-auto">
                                            <div class="w-[600px] bg-white pt-6 rounded-lg shadow-md">
                                                <label for="" class="py-2 inline-block">Materials</label>
                                                <table id="productTable"
                                                    class="w-full text-sm text-left text-gray-700 border border-gray-200 rounded-lg shadow-sm">
                                                    <thead
                                                        class="text-xs font-semibold text-gray-600 uppercase bg-gray-50">
                                                        <tr>
                                                            <th scope="col" class="px-6 py-3">Material</th>
                                                            <th scope="col" class="px-6 py-3">Qty</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        
                                                    </tbody>
                                                </table>

                                                <!-- Add Button -->
                                                <div class="mt-4 text-right">
                                                    <button id="addRowBtn"
                                                        class="bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium px-4 py-2 rounded-lg shadow-sm transition">
                                                        Add
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="customer-info-Section">
                            <h3>Team Information</h3>
                            <div class="info-grid">
                                <div class="info-field">
                                    <label for="">Crew</label>
                                    <select class="block w-full bg-white border border-gray-300 text-gray-700 text-base rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 px-3 py-2 shadow-sm transition duration-200 ease-in-out" name="" id="Crew"></select>
                                </div>
                                <div class="info-field">
                                    <label for="">Driver</label>
                                    <select class="block w-full bg-white border border-gray-300 text-gray-700 text-base rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 px-3 py-2 shadow-sm transition duration-200 ease-in-out" name="" id="Driver"></select>
                                </div>
                                <div class="info-field">
                                    <label for="">Pickup Location</label>
                                    <select class="block w-full bg-white border border-gray-300 text-gray-700 text-base rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 px-3 py-2 shadow-sm transition duration-200 ease-in-out" name="" id="Pickup_Location"></select>
                                </div>
                                <div class="info-field">
                                    <label for="">Drop-off Location</label>
                                    <select class="block w-full bg-white border border-gray-300 text-gray-700 text-base rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 px-3 py-2 shadow-sm transition duration-200 ease-in-out" name="" id="Dropoff_Location"></select>
                                </div>
                                <div class="info-field">
                                    <label for="">Special Instructions</label>
                                    <textarea name="" id="Special_Instruction"></textarea>
                                </div>
                                
                            </div>
                        </div>


                    </div>
                </div>
            </div>
        </div>
    </div>
    <script src="js/action.js"></script>
    <script src="js/fetch.js"></script>
    <script src="js/maping.js"></script>
</body>

</html>